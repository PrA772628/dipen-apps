<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="portal_bank_detail_my_home" name="Portal My Home : bank detail" inherit_id="portal.portal_my_home" priority="10">
        <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">
            <t t-if="supplier" t-call="portal.portal_docs_entry">
                <t t-set="title">Bank Detail</t>
                <t t-set="url" t-value="'/my/bank_details'"/>
                <t t-set="count" t-value="bank_count"/>
            </t>
        </xpath>
    </template>

    <template id="portal_my_bank" name="My Bank Details">
        <t t-call="portal.portal_layout">
            <t t-call="portal.portal_searchbar">
                <t t-set="title">Banks</t>
            </t>
            <t t-if="not records">
                <p>There are currently no Bank Details for your account.</p>
            </t>
            <t t-if="records" t-call="portal.portal_table">
                <thead>
                    <tr class="active">
                        <th class="text-left">Bank Name</th>
                        <th class="text-left">Account Number</th>
                        <th class="text-center"/>
                    </tr>
                </thead>
                <t t-foreach="records" t-as="record">
                    <tr>
                        <td>
                            <t t-esc="record.bank_id.name"/>
                        </td>
                        <td>
                            <t t-esc="record.acc_number"/>
                        </td>
                        <td>
                            <a t-att-href="'/my/detail/%s' % record.id">
                                <button type="button" class="btn btn-secondary oe_form_button oe_form_button_edit">Edit</button>
                            </a>
                        </td>
                    </tr>
                </t>
            </t>
        </t>
    </template>

    <template id="portal_my_Bank_detail" name="Bank Detail">
        <t t-call="portal.portal_layout">
            <t t-set="additional_title">Bank Details</t>
            <h3>Your Bank Details</h3>
            <form action="/my/updatedetail" method="POST">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <div class="row o_portal_details">
                    <div class="col-lg-8">
                        <div class="form-group">
                            <label class="col-form-label" for="bank_id">Bank Name</label>
                            <select name = "bank_id" class="form-control link-style">
                                <t t-foreach="banks" t-as="bank">
                                    <option t-att-value='bank.id' t-att-selected="bank.id == record.bank_id.id">
                                        <t t-esc='bank.name'/>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="col-form-label" for="acc_number">Account Number</label>
                            <input type="number" name="acc_number" t-att-value="record.acc_number"/>
                        </div>
                        <input type="hidden" name="record_id" t-att-value="record.id"/>
                        <div class="clearfix">
                            <button type="submit" class="btn btn-primary float-right mb32 ">
                                Confirm
                                <span class="fa fa-long-arrow-right" />
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </t>
    </template>

</odoo>