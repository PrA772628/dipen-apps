<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="main_menu" model="website.menu">
        <field name="name">File Upload</field>
        <field name="url">/file/upload</field>
        <field name="parent_id" ref="website.main_menu"/>
        <field name="sequence">11</field>
    </record>

    <template id="mymodule_web_assets" name="My Web Assets" inherit_id="web.assets_frontend">
        <xpath expr="." position="inside">
            <script type="text/javascript" src="/file_picker/static/src/js/file_picker.js"></script>
            <link rel="stylesheet" href="/file_picker/static/src/css/file_picker.css"/>
            <script type="text/javascript" src="https://apis.google.com/js/api.js"></script>
            <script type="text/javascript" src="https://js.live.net/v7.0/OneDrive.js"></script>
        </xpath>
    </template>

    <template id="home_file_picker" name="File Picker">
        <t t-call="website.layout">
            <form id="upload-file">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <button type="button" class="btn btn-primary btn-lg btn-upload-click" onclick="openModal()" data-toggle="modal" data-target="#uploadFileModal">Upload File</button>
                <input type="hidden" id="drive-api-key" t-att-value="drive_api_key"/>
                <input type="hidden" id="drive-client-id" t-att-value="drive_client_id"/>
                <input type="hidden" id="drive-project-id" t-att-value="project_id"/>
                <input type="hidden" id="dropbox-api-key" t-att-value="dropbox_api_key"/>
                <input type="hidden" id="onedrive-app-id" t-att-value="onedrive_app_id"/>
                <div class="modal fade uploadFileModal" id="uploadFileModal" tabindex="-1" role="dialog" aria-labelledby="uploadFileModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl" role="form">
                        <div class="modal-content">
                            <div class="modal-header file-upload-header">
                                <div class=" tabs-left" id="modal-tabs">
                                    <ul class="nav nav-tabs">
                                        <li class="nav-item">
                                            <a data-toggle="tab" href="#device_upload" class="nav-link">
                                                <i class="fa fa-1x fa-laptop"></i> My Device</a>
                                        </li>
                                        <li class="nav-item">
                                            <a data-toggle="tab" href="#drive_upload" class="nav-link">
                                                <i class="fa fa-1x fa-google"></i> Google Drive</a>
                                        </li>
                                        <li class="nav-item">
                                            <a data-toggle="tab" href="#dropbox_upload" class="nav-link">
                                                <i class="fa fa-1x fa-dropbox"></i> Dropbox</a>
                                        </li>
                                        <li class="nav-item">
                                            <a data-toggle="tab" href="#onedrive_upload" class="nav-link">
                                                <i class="fa fa-1x fa-cloud"></i> Onedrive</a>
                                        </li>
                                        <!-- <li class="nav-item">
                                            <a data-toggle="tab" href="#link_upload" class="nav-link">
                                                <i class="fa fa-1x fa-chain"></i> Link</a>
                                        </li>
                                        <li class="nav-item">
                                            <a data-toggle="tab" href="#photo_upload" class="nav-link">
                                                <i class="fa fa-1x fa-camera"></i> Take Photo</a>
                                        </li> -->
                                    </ul>
                                </div>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span>×</span>
                                </button>
                            </div>

                            <div class="modal-body">
                                <div class="tab-content" id="tab-content">
                                    <div class="tab-pane active" id="device_upload">
                                        <div class="device-area">
                                            <i class="fa fa-10x fa-cloud-upload"></i>
                                            <div class="device-title">Select Files To Upload</div>
                                            <div>
                                                <input class="file-input" type="file" name="file" hidden="hidden" multiple='multiple'/>
                                                <p class="title-subheader">Or Drag and Drop, Copy and Paste Files</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="drive_upload">
                                        <div class="drive-area">
                                            <img class="img img-responsive title-space " src="/file_picker/static/src/img/googledrive.png"/>
                                            <div class="drive-title title-space">Select Files From Google Drive</div>
                                            <div class="title-space">
                                                <span class="title-subheader">You need to authenticate with
                                                    <span class="Cloud-name">Google drive</span>.
                                                    <div >We only extract images and never modify or delete them.</div>
                                                </span>
                                            </div>
                                            <button type="button" class="btn btn-primary btn-lg btn-drive title-space" onclick="showPickerDialog()">CONNECT <span class="Cloud-name">Google drive</span>
                                            </button>
                                            <div class="title-space">
                                                <span class="title-subheader">A new page will open to connect your account.</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="dropbox_upload">
                                        <div class="drive-area">
                                            <img class="img img-responsive title-space " src="/file_picker/static/src/img/dropbox.png"/>
                                            <div class="drive-title title-space">Select Files From Dropbox</div>
                                            <div class="title-space">
                                                <span class="title-subheader">You need to authenticate with
                                                    <span class="Cloud-name">Dropbox</span>.
                                                    <div >We only extract images and never modify or delete them.</div>
                                                </span>
                                            </div>
                                            <button type="button" class="btn btn-primary btn-lg btn-dropbox title-space">CONNECT <span class="Cloud-name">Dropbox</span>
                                            </button>
                                            <div class="title-space">
                                                <span class="title-subheader">A new page will open to connect your account.</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="onedrive_upload">
                                        <div class="drive-area">
                                            <img class="img img-responsive title-space " src="/file_picker/static/src/img/Onedriv.png"/>
                                            <div class="drive-title title-space">Select Files From Onedrive</div>
                                            <div class="title-space">
                                                <span class="title-subheader">You need to authenticate with
                                                    <span class="Cloud-name">Onedrive</span>.
                                                    <div >We only extract images and never modify or delete them.</div>
                                                </span>
                                            </div>
                                            <button type="button" class="btn btn-primary btn-lg btn-onedrive title-space">CONNECT <span class="Cloud-name">Onedrive</span>
                                            </button>
                                            <div class="title-space">
                                                <span class="title-subheader">A new page will open to connect your account.</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- <div class="tab-pane" id="link_upload">
                                        <div class="drive-area">
                                            <form class="url-source-form">
                                                <input type="url" placeholder="Enter a URL" class="url-source-input"/>
                                                <button type="btn" class="btn btn-primary btn-url-source" href="#addurl">Submit</button>
                                            </form>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="photo_upload">
                                        this is a photo upload
                                    </div> -->
                                </div>
                            </div>
                            <div class="modal-footer justify-content-between">
                                <button type="button" class="btn btn-primary" data-target="#ShowFiles" data-toggle="modal" data-dismiss="modal">View Selected</button>
                                <div>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary upload-file-data">Upload</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade ShowFiles" id="ShowFiles" aria-hidden="true" aria-labelledby="ShowFiles" role="dialog" tabindex="-1">
                    <div class="modal-dialog modal-dialog-scrollable modal-xl" role="form">
                        <div class="modal-content">
                            <div class="modal-header file-show-header">
                                <h5 class="modal-title" id="exampleModalToggleLabel2">Selected Files</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span>×</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="tab-pane image-show" id="file-show">
                                    <div class="label">Images</div>
                                    <div class="image-container" id="image-show">
                                    </div>
                                </div>
                                <div class="tab-pane files-show" id="file-show">
                                    <div class="label">Files</div>
                                    <div class="file-container" id="files-show">
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-primary" data-target="#uploadFileModal" data-toggle="modal" data-dismiss="modal">Add More</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </t>
    </template>

</odoo>