<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-->mrp inherit form view -->
    <record id="mrp_production_form_view_inherit" model="ir.ui.view">
        <field name="name">mrp.inherit.view.form</field>
        <field name="model">mrp.production</field>
        <field name="inherit_id" ref="mrp.mrp_production_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='bom_id']" position="after">
                <field name="cost_status"/>
            </xpath>
            <xpath expr="//div[@name='button_box']" position="inside">
                <button name="journal_entry_action" type="object" string="Journal Entry" class="oe_stat_button" icon="fa-usd" attrs="{'invisible':[('state','not in','done')]}"/>
                <button name="material_cost_action" icon="fa-cubes" class="oe_stat_button" string="Material Cost" type="object"/>
                <button name="labour_cost_action" type="object" string="Labour Cost" class="oe_stat_button" icon="fa-users" attrs="{'invisible':[('state','not in',('to_close','done'))]}"/>
                <button name="overhead_cost_action" type="object" string="Overhead Cost" class="oe_stat_button" icon="fa-usd" attrs="{'invisible':[('state','not in',('to_close','done'))]}"/>
            </xpath>
        </field>
    </record>

    <!-- account.move inherit form view -->
    <record id="account_move_form_view_inherit" model="ir.ui.view">
        <field name="name">Account Move</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='ref']" position="after">
                <field name="mo_reference"/>
            </xpath>
        </field>
    </record>

    <!-- model.name inherit tree view -->
    <record id="account_move_tree_view_inherit" model="ir.ui.view">
        <field name="name">Account Move Tree</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='ref']" position="after">
                <field name="mo_reference"/>
            </xpath>
        </field>
    </record>

    <record id="view_product_template_inherit_new" model="ir.ui.view">
        <field name="name">product.template.form.view.inherit</field>
        <field name="model">product.product</field>
        <field name="priority" eval="40"/>
        <field name="inherit_id" ref="product.product_normal_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='company_id']" position="before">
                <field name="final_cost"/>
            </xpath>
        </field>
    </record>

    <!-- material.cost.detail tree view -->
    <record id="material_cost_view_tree" model="ir.ui.view">
        <field name="name">material.cost.detail.view.tree</field>
        <field name="model">material.cost.detail</field>
        <field name="arch" type="xml">
            <tree create='false'>
                <field name="mrp_id"/>
                <field name="product_id"/>
                <field name="quantity"/>
                <field name="material_cost" sum='Total Cost'/>
            </tree>
        </field>
    </record>

    <!-- labour.cost form view -->
    <record id="labour_cost_view_form" model="ir.ui.view">
        <field name="name">labour cost Form</field>
        <field name="model">labour.cost</field>
        <field name="arch" type="xml">
            <form string="Labour Cost">
                <sheet>
                    <group>
                        <group>
                            <field name="cost_type" widget='selection'/>
                            <field name="product_id"/>
                            <field name="average_cost" attrs="{'invisible':[('cost_type','=','standard')]}"/>
                        </group>
                        <group>
                            <field name="start_date" attrs="{'invisible':[('cost_type','=','standard')]}"/>
                            <field name="end_date" attrs="{'invisible':[('cost_type','=','standard')]}"/>
                        </group>
                    </group>
                    <field name="orders" attrs="{'invisible':[('cost_type','=','standard')]}"/>
                    <notebook>
                        <page string='Accounting'>
                            <group>
                                <group string='Account Properties'>
                                    <field name="income_account"/>
                                    <field name="expense_account"/>
                                </group>
                                <group string='Account Labour Properties'>
                                    <field name="labour_valuation_account"/>
                                    <field name="labour_journal"/>
                                    <field name="labour_input_account"/>
                                    <field name="labour_output_account"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- labour.cost tree view -->
    <record id="labour_cost_view_tree" model="ir.ui.view">
        <field name="name">Labour Cost Tree</field>
        <field name="model">labour.cost</field>
        <field name="arch" type="xml">
            <tree>
                <field name="cost_type"/>
                <field name="product_id"/>
                <field name="quantity"/>
                <field name="average_cost"/>
            </tree>
        </field>
    </record>

    <!-- labour.cost.detail tree view -->
    <record id="labour_cost_detail_view_tree" model="ir.ui.view">
        <field name="name">Labour Cost Detail Tree</field>
        <field name="model">labour.cost.detail</field>
        <field name="arch" type="xml">
            <tree>
                <field name="mrp_id" invisible='1'/>
                <field name="workorder_id"/>
                <field name="employee_id"/>
                <field name="product_id"/>
                <field name="quantity"/>
                <field name="duration"/>
                <field name="labour_cost" sum='Total Cost'/>
            </tree>
        </field>
    </record>

    <!-- overhead.cost.detail form view -->
    <record id="overhead_cost_view_form" model="ir.ui.view">
        <field name="name">Overhead Cost</field>
        <field name="model">overhead.cost.detail</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="cost_type" widget='selection'/>
                            <field name="workcenter_id"/>
                            <field name="overhead_cost"/>
                        </group>
                        <group>
                            <field name="start_date" attrs="{'invisible':[('cost_type','=','standard')]}"/>
                            <field name="end_date" attrs="{'invisible':[('cost_type','=','standard')]}"/>
                        </group>
                    </group>
                    <field name="orders" attrs="{'invisible':[('cost_type','=','standard')]}"/>
                    <field name="overheads" attrs="{'invisible':[('cost_type','=','average')]}" />
                    <notebook>
                        <page string='Accounting'>
                            <group>
                                <group string='Account Properties'>
                                    <field name="income_account"/>
                                    <field name="expense_account"/>
                                </group>
                                <group string='Account Labour Properties'>
                                    <field name="overhead_valuation_account"/>
                                    <field name="overhead_journal"/>
                                    <field name="overhead_input_account"/>
                                    <field name="overhead_output_account"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- overhead form view -->
    <record id="overhead_view_form" model="ir.ui.view">
        <field name="name">OverHead</field>
        <field name="model">overhead</field>
        <field name="arch" type="xml">
            <form string="Overhead">
                <sheet>
                    <group>
                        <group>
                            <field name="overhead_name"/>
                            <field name="workcenter_id"/>
                        </group>
                        <group>
                            <field name="overhead_cost"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- overhead tree view -->
    <record id="overhead_view_tree" model="ir.ui.view">
        <field name="name">OverHead</field>
        <field name="model">overhead</field>
        <field name="arch" type="xml">
            <tree>
                <field name="overhead_name"/>
                <field name="workcenter_id"/>
                <field name="overhead_cost"/>
            </tree>
        </field>
    </record>

    <!-- overhead.cost.detail tree view -->
    <record id="overhead_cost_view_tree" model="ir.ui.view">
        <field name="name">overhead cost</field>
        <field name="model">overhead.cost.detail</field>
        <field name="arch" type="xml">
            <tree>
                <field name="cost_type"/>
                <field name="workcenter_id"/>
                <field name="overhead_cost" sum='Total Cost'/>
            </tree>
        </field>
    </record>

    <!-- material.cost.detail action window -->
    <record id="material_cost_action" model="ir.actions.act_window">
        <field name="name">Material Cost</field>
        <field name="res_model">material.cost.detail</field>
        <field name="view_mode">tree</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
            </p>
        </field>
    </record>

    <!-- labour.cost.detail action window -->
    <record id="labour_cost_detail_action" model="ir.actions.act_window">
        <field name="name">Labour Cost Detail</field>
        <field name="res_model">labour.cost.detail</field>
        <field name="view_mode">tree</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
            </p>
        </field>
    </record>

    <!-- overhead.cost.detail action window -->
    <record id="overhead_cost_action" model="ir.actions.act_window">
        <field name="name">Overhead Cost</field>
        <field name="res_model">overhead.cost.detail</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
            </p>
        </field>
    </record>

    <!-- labour.cost action window -->
    <record id="labour_cost_action" model="ir.actions.act_window">
        <field name="name">Labour Cost</field>
        <field name="res_model">labour.cost</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
            </p>
        </field>
    </record>

    <!-- overhead action window -->
    <record id="overhead_action" model="ir.actions.act_window">
        <field name="name">OverHead</field>
        <field name="res_model">overhead</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
            </p>
        </field>
    </record>

    <!-- This Menu Item Must have a parent -->
    <menuitem id="costing_method" name="Costing" parent="mrp.menu_mrp_root" sequence="10" groups="mrp_costing.group_costing_manager"/>

    <menuitem id="labour_cost" name="Labour Cost" parent="costing_method" sequence="100" action='labour_cost_action'/>

    <!-- This Menu Item Must have a parent -->
    <menuitem id="over" name="Overhead" parent="costing_method" sequence="100"/>

    <menuitem id="overhead_new" name="OverHeads" parent="over" action='overhead_action' sequence="50"/>

    <menuitem id="overhead_cost" name="Overhead Cost" parent="over" action='overhead_cost_action' sequence="100"/>

    <!-- <menuitem id="overhead_new" name="OverHeads" parent="overhead" action='overhead_action' sequence="50"/> -->
</odoo>

